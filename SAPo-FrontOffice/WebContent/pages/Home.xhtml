<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition template="/WEB-INF/templates/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="title">
		<h:outputText value="SAPo" />
	</ui:define>
	<ui:define name="Principal">
		<h:form id="form" prependId="false">
			<p:commandButton id="createStore" value="Nueva almacen" action="#{homeBB.createStore}"/>
			<p:commandLink rendered="#{sessionBB.loggedUser.account eq 'F'}" id="nonAjax" actionListener="#{sessionBB.changeAccount}" ajax="false">
        		<h:outputText value="Cuenta Premium" />
    		</p:commandLink>
			<p:separator></p:separator>
			<p:dataTable value="#{homeBB.storesOwner}" var="store" type="unordered" itemType="none" paginator="true" rows="10" styleClass="paginated" paginatorPosition="bottom"
		    	selectionMode="single" selection="#{homeBB.storeSelected}" rowKey="#{store.id}" emptyMessage="No es dueño de ningún almacen" >
		        <p:ajax event="rowSelect" listener="#{homeBB.showStore}" />
		        <p:column headerText="Mis almacenes">
					<h:outputText value="#{store.name}"/>
				</p:column>
		    </p:dataTable>
			<br/>
			<p:dataTable value="#{homeBB.storesGuest}" var="store" type="unordered" itemType="none" paginator="true" rows="10" styleClass="paginated" paginatorPosition="bottom"
		    	selectionMode="single" selection="#{homeBB.storeSelected}" rowKey="#{store.id}" emptyMessage="No está invitado a ningún almacen" >
		        <p:ajax event="rowSelect" listener="#{homeBB.showStore}" />
		        <p:column headerText="Almacenes compartidas">
					<h:outputText value="#{store.name}"/>
				</p:column>
		    </p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>